<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Needs Board Â· Research Consortium</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
:root{
  --bg:#0b0d12;
  --panel:#111522;
  --panel2:#0f1320;
  --text:#e9ecf2;
  --muted:#aab2c0;
  --line:rgba(255,255,255,.12);
  --brand1:#7c3aed;
  --brand2:#22d3ee;
  --radius:16px;
  --max:1200px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,sans-serif;
  background:radial-gradient(900px 600px at 10% 10%,rgba(124,58,237,.15),transparent 55%),
             radial-gradient(900px 600px at 85% 20%,rgba(34,211,238,.12),transparent 55%),
             var(--bg);
  color:var(--text);
}

a{color:inherit;text-decoration:none}
.wrap{width:min(var(--max),calc(100% - 40px));margin:0 auto}

/* Topbar */
.topbar{
  position:sticky;top:0;z-index:10;
  backdrop-filter:blur(10px);
  background:rgba(11,13,18,.6);
  border-bottom:1px solid var(--line);
}
.topbar__inner{
  display:flex;justify-content:space-between;align-items:center;
  padding:14px 0;gap:16px;
}
.brand{font-weight:800;letter-spacing:.3px}
.nav{display:flex;gap:14px}
.nav a{color:var(--muted);font-weight:600}
.nav a.active{color:#fff}

/* Page */
.page{padding:28px 0}
h1{margin:0 0 6px;font-size:2.2rem}
.lead{color:var(--muted);max-width:70ch}

/* Controls */
.controls{
  display:grid;
  grid-template-columns:1fr 180px 160px auto;
  gap:10px;
  margin:22px 0;
}
.controls input,.controls select,.controls button{
  background:var(--panel2);
  border:1px solid var(--line);
  border-radius:12px;
  padding:10px 12px;
  color:var(--text);
}

/* Board */
.board{
  display:grid;
  grid-template-columns:1.1fr .9fr;
  gap:20px;
}

/* Post panel */
.panel{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:18px;
}
.panel h3{margin:0 0 10px}
.panel label{font-size:.9rem;color:var(--muted)}
.panel input,.panel textarea{
  width:100%;
  margin-top:6px;
  margin-bottom:12px;
  padding:10px 12px;
  border-radius:10px;
  background:#0c1020;
  border:1px solid var(--line);
  color:var(--text);
}
.panel textarea{min-height:90px;resize:vertical}

/* Feed */
.feed{
  display:grid;
  gap:14px;
}
.card{
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
}
.card h4{margin:0 0 6px}
.meta{font-size:.85rem;color:var(--muted)}
.tags{margin-top:8px}
.tag{
  display:inline-block;
  font-size:.75rem;
  padding:3px 8px;
  border-radius:999px;
  border:1px solid var(--line);
  margin-right:6px;
  color:var(--muted);
}

/* Button */
.btn{
  cursor:pointer;
  font-weight:700;
}
.btn.primary{
  background:linear-gradient(135deg,var(--brand1),var(--brand2));
  border:none;
  color:#041018;
}

/* Responsive */
@media(max-width:900px){
  .board{grid-template-columns:1fr}
  .controls{grid-template-columns:1fr}
}
</style>
</head>

<body>

<header class="topbar">
  <div class="wrap topbar__inner">
    <div class="brand">Research Consortium Platform</div>
    <nav class="nav">
      <a class="active">Needs</a>
      <a href="./capabilities.html">Capabilities</a>
      <a href="./collaboration.html">Collaboration</a>
      <a href="./governance.html">Governance</a>
    </nav>
  </div>
</header>

<main class="wrap page">
  <h1>Needs Board</h1>
  <p class="lead">
    Post collaboration needs in a structured way, then browse them as a shared board.
    <b>Step 2.1:</b> static demo with local persistence.
  </p>

  <div class="controls">
    <input id="search" placeholder="Search title / context..." />
    <select id="tagFilter">
      <option value="">All tags</option>
      <option value="EEG">EEG</option>
      <option value="BCI">BCI</option>
      <option value="Dataset">Dataset</option>
    </select>
    <select id="sort">
      <option value="new">Newest</option>
      <option value="old">Oldest</option>
    </select>
    <button class="btn" onclick="addSample()">Add sample</button>
  </div>

  <section class="board">
    <!-- Post -->
    <div class="panel">
      <h3>Post a Need</h3>

      <label>Title (one sentence)</label>
      <input id="title" placeholder="e.g. EEG dataset for SSVEP benchmark" />

      <label>Outcome / Deliverable</label>
      <textarea id="outcome" placeholder="What does success look like?"></textarea>

      <label>Tags (comma separated)</label>
      <input id="tags" placeholder="EEG, Dataset, SSVEP" />

      <label>Availability / Response</label>
      <input id="avail" placeholder="e.g. Reply in 48h, UTC+8" />

      <button class="btn primary" onclick="postNeed()">Post</button>
    </div>

    <!-- Feed -->
    <div>
      <div class="meta" id="count"></div>
      <div class="feed" id="feed"></div>
    </div>
  </section>
</main>

<script>
const KEY="needs-board";

function load(){
  return JSON.parse(localStorage.getItem(KEY)||"[]");
}
function save(d){
  localStorage.setItem(KEY,JSON.stringify(d));
}
function render(){
  const q=document.getElementById("search").value.toLowerCase();
  const tag=document.getElementById("tagFilter").value;
  const sort=document.getElementById("sort").value;
  let data=load();

  if(q) data=data.filter(n=>n.title.toLowerCase().includes(q)||n.outcome.toLowerCase().includes(q));
  if(tag) data=data.filter(n=>n.tags.includes(tag));
  if(sort==="new") data=data.reverse();

  document.getElementById("count").innerText=`${data.length} posts`;
  document.getElementById("feed").innerHTML=data.map(n=>`
    <div class="card">
      <h4>${n.title}</h4>
      <div class="meta">${n.outcome}</div>
      <div class="meta">Avail: ${n.avail||"-"}</div>
      <div class="tags">${n.tags.map(t=>`<span class="tag">#${t}</span>`).join("")}</div>
    </div>
  `).join("");
}

function postNeed(){
  const n={
    title:title.value,
    outcome:outcome.value,
    tags:tags.value.split(",").map(t=>t.trim()).filter(Boolean),
    avail:avail.value,
    ts:Date.now()
  };
  if(!n.title) return alert("Title required");
  const d=load(); d.push(n); save(d); render();
  title.value=outcome.value=tags.value=avail.value="";
}

function addSample(){
  const d=load();
  d.push({
    title:"Need: EEG dataset for SSVEP benchmark (500+ subjects)",
    outcome:"Reproducible benchmark + baseline results",
    tags:["EEG","Dataset","SSVEP"],
    avail:"Reply in 48h, UTC+8",
    ts:Date.now()
  });
  save(d); render();
}

["search","tagFilter","sort"].forEach(id=>{
  document.getElementById(id).addEventListener("input",render);
});
render();
</script>

</body>
</html>
